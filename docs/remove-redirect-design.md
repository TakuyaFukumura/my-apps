# トップページのリダイレクト廃止 設計書

## 概要

現在、トップページ（`/`）は `/apps` へリダイレクトしているが、これを廃止してトップページで直接コンテンツを表示するように改修する。

## 現状

`src/app/page.tsx` は以下の実装となっており、アクセスした際に無条件で `/apps` へリダイレクトしている。

```tsx
import {redirect} from 'next/navigation';

export default function Home() {
    redirect('/apps');
}
```

### 現状のルーティング

| URL    | 表示内容                          |
|--------|-----------------------------------|
| `/`    | `/apps` へリダイレクト            |
| `/apps` | アプリ一覧ページ                 |

## 課題

- トップページ（`/`）へのアクセス時に不要なリダイレクトが発生している。
- リダイレクトによりユーザーのURLが `/apps` に変わるため、ユーザー体験が損なわれる可能性がある。
- リダイレクトは余分なHTTPラウンドトリップを生じさせ、初期表示速度に悪影響を与える可能性がある。

## 改修方針

`src/app/page.tsx` を修正し、リダイレクトを廃止してトップページ（`/`）で直接アプリ一覧のコンテンツを表示する。

### 方針A: `AppsPage` コンポーネントを再エクスポートする（推奨）

`src/app/page.tsx` から `src/app/apps/page.tsx` の `AppsPage` コンポーネントをインポートして返すようにする。

```tsx
import AppsPage from './apps/page';

export default function Home() {
    return <AppsPage />;
}
```

**メリット:**
- コードの重複がない。
- `AppsPage` の実装変更が自動的にトップページにも反映される。

**デメリット:**
- `/apps` ページとトップページ（`/`）が同一コンテンツになるため、`/apps` ルート自体が不要になる可能性がある。

### 方針B: `src/app/apps/page.tsx` のコンテンツを `src/app/page.tsx` に移動する

`src/app/apps/page.tsx` の内容を `src/app/page.tsx` に移動し、`/apps` ルートを廃止する。

**メリット:**
- URLがシンプルになる（`/` のみで完結）。
- 不要なルートがなくなり、構成がシンプルになる。

**デメリット:**
- `/apps` 以下のURLが存在しなくなるため、既存のリンクや外部参照が壊れる可能性がある。
- `/apps/[id]` のような詳細ページへの影響を考慮する必要がある。

## 推奨案

**方針A** を採用し、`src/app/page.tsx` で `AppsPage` を再利用する形で実装する。これにより最小限の変更でリダイレクトを廃止できる。将来的に `/apps` ルートが不要と判断された場合は、別途ルート整理を行う。

### 改修後のルーティング（方針A採用時）

| URL    | 表示内容                          |
|--------|-----------------------------------|
| `/`    | アプリ一覧ページ（直接表示）      |
| `/apps` | アプリ一覧ページ（従来通り）     |

## 影響範囲

| 対象ファイル                   | 変更内容                                      |
|--------------------------------|-----------------------------------------------|
| `src/app/page.tsx`             | リダイレクト廃止、`AppsPage` の呼び出しに変更 |

## テスト観点

- トップページ（`/`）にアクセスしたとき、アプリ一覧が正しく表示されること。
- トップページ（`/`）にアクセスしたとき、`/apps` へリダイレクトされないこと。
- `/apps` ページが従来通り表示されること（方針A採用時）。
